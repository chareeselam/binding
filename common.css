@import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Victor+Mono:ital,wght@0,100..700;1,100..700&display=swap');

:root {
    --heading-text: "Montserrat", sans-serif;
    --body-text: "Victor Mono", system-ui, sans-serif;
    --spacing: 1rem;

    --white: #e9e9e9;
    --background: #212121;

    /* ------------ dark mode colors ------------- */
    --red: #FC506E;
    --dark-red: #6f303a;
    --darker-red: #481e24;
    --orange: #FB8C49;
    --dark-orange: #7d4b2c;
    --darker-orange: #59321c;
    --yellow: #F9C823;
    --dark-yellow: #6b5b25;
    --darker-yellow: #4a3c19;

    --penrose-stroke: #c5465b;
    --penrose-fill-1: #631f2e;
    --penrose-fill-2: #772a3b;
    --penrose-fill-3: #6c2434;
}

@media (prefers-color-scheme: light) {
  :root {
    --white: #1e1e1e;
    --background: #fdfaf5;

    /* ------------ light mode colors ------------- */
    --green: #3CB371;
    --light-green: #D8F3E6;
    --lighter-green: #ECF9F3;
    --blue: #3B82F6;
    --light-blue: #DBEAFE;
    --lighter-blue: #EEF5FF;
    --purple: #A855F7;
    --light-purple: #dcc8f1;
    --lighter-purple: #FAF4FF;

    --penrose-stroke: #14532d;
    --penrose-fill-1: #A3EAC2;
    --penrose-fill-2: #B9F0D1;
    --penrose-fill-3: #CFF5DF;

    /* ------------ color mapping ------------- */
    --red: var(--green);
    --dark-red: var(--light-green);
    --darker-red: var(--lighter-green);
    --orange: var(--blue);
    --dark-orange: var(--light-blue);
    --darker-orange: var(--lighter-blue);
    --yellow: var(--purple);
    --dark-yellow: var(--light-purple);
    --darker-yellow: var(--lighter-purple);
  }
}

/* ------------ layout ------------- */

body {
    display: flex;
    flex-direction: column;
    background-color: var(--background);
    min-height: 100dvh;
}

main {
    display: flex;
    flex-direction: column;
}

header {
    flex: 0 0 auto;
}

.chapters{
    margin-block-start: 4rem;
    margin-block-end: 8rem;
}

.layout {
    min-height: 100svh;
    display: flex;
    flex-direction: column;
    padding: var(--spacing);
}

.layout-home {
    display: flex;
    flex-direction: column;
    padding: var(--spacing);
}

.toggle {
    display: flex;
    flex-direction: row;
    gap: var(--spacing);
    align-items: center;
}

/* ------------ text ------------- */

h1 {
    font-family: var(--heading-text);
    font-size: 2.9rem;
    font-weight: 700;
    line-height: 3.5rem;
    padding-block: 2rem;
    color: var(--white);
    text-transform: uppercase;
}

h2 {
    font-family: var(--heading-text);
    font-size: 1.8rem;
    color: var(--white);
    margin-block-end: 4rem;
}

h3 {
    font-family: var(--heading-text);
    font-size: 1.4rem;
    font-weight: 600;
    line-height: 2rem;
    padding: 1rem;
    margin-block: 2rem;
    color: var(--white);
    z-index: 2;
    display: inline-block;
    border: 1.5px solid var(--orange);
}

p, small {
    font-family: var(--body-text);
    font-size: 1rem;
    font-weight: 400;
    line-height: 1.9rem;
    padding-block: 1.5rem;
    color: var(--white);
}

.italicize {font-style: italic;}

.red-title { color: var(--red); }
.orange-title { color: var(--orange); }
.yellow-title { color: var(--yellow); }


/* ------------ navigation ------------- */

#nav {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    border-bottom: 1.5px solid var(--white);
    padding-block-end: var(--spacing);
    font-family: var(--body-text);
    color: var(--white);
}

#nav-links {
    display: flex;
    flex-direction: row;
    list-style: none;
    justify-content: space-between;
    width: 100%;
    padding: 0;
    margin: 0;
}

#nav-links a {
    cursor: pointer;
    font-size: 0.75rem;
    text-decoration: none;
}

.nav-link-home:hover { color: var(--green); }
.nav-link-perception:hover { color: var(--red); }
.nav-link-interaction:hover { color: var(--orange); }
.nav-link-transition:hover { color: var(--yellow); }

/* ------------ intro ------------- */

.intro {
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    padding-block: var(--spacing);
    flex: 1 0 auto;
    border-bottom: 1.5px solid var(--white);
}

.meta {
    display: grid;
    margin-block-end: var(--spacing);
    gap: var(--spacing);
    grid-template-columns: auto 1fr;
    column-gap: 2rem;
    grid-template-rows: auto auto;
    grid-template-areas:
    "two three"
    "one one";
}

.author { grid-area: two; }

.date { grid-area: three; }

.subtitle { 
    grid-area: one;
    max-width: 90vw; 
}

.intro ul p { padding-block: 0.2rem; }

#footer {
    border-top: 1.5px solid var(--white);
    padding-block-start: var(--spacing);
    background-color: var(--background);
}

.meta-details {
    font-family: var(--heading-text);
    font-weight: 200;
    font-size: 1rem;
    padding: 0;
}

/* ------------ links ------------- */

a {
    display: inline;
    color: var(--white);
    text-decoration: underline;
    text-decoration-thickness: 0.1em;
    text-underline-offset: 0.2em;
}

/* ------------ blockquote ------------- */

blockquote {
    position: relative;
    margin-inline-start: 3rem;
    margin-block: 8rem;
    padding-inline-start: 2rem;
    color: var(--white);
    z-index: 1;
    font-family: var(--body-text);
    font-size: 1rem;
}

blockquote p {
    margin: 0;
    padding: 0;
    padding-block: 2rem;
    font-family: var(--heading-text);
    font-size: 1.8rem;
    line-height: 2.5rem;
    
}

blockquote::before {
    content: "â€œ";
    position: absolute;
    left: 0;
    top: 0;
    font-family: var(--heading-text);
    font-weight: 800;
    font-size: 3rem;
    line-height: 1;
    letter-spacing: 0.3em;
    paint-order: stroke fill;
    -webkit-text-stroke-width: 0.25rem; 
}

/* ------------ section headings ------------- */

.ch-no {
    padding: 1rem;
    border: 1.5px solid var(--white);
    font-family: var(--body-text);
    font-weight: 600;
    font-size: 2rem;
    display: inline-block;
    margin-bottom: 2rem;
}

.lines {
    padding: var(--spacing);
    margin-block: 3rem;
    padding-block: 2rem;
    border-top: 1.5px solid var(--white);
    border-bottom: 1.5px solid var(--white);
    text-align: center;
    color: var(--white);
}

.lines, .lines p {
    font-weight: 700;
    font-size: 1.5rem;
    line-height: 2.4rem;
    text-align: center;
}

/* ------------ text treatments ------------- */

.terms { font-weight: 700; }

.terms::before { content: "{"; }

.terms::after { content: "}"; }

blockquote .terms,
blockquote .lines{
    font-weight:700;
}

.title-sig {
    letter-spacing: 0.08em;
    paint-order: stroke fill;
    -webkit-text-stroke-width: 0.25rem; 
}

.bold { font-weight: 700; }

/* ------------ shape frame ------------- */

.shape {
    position: relative;
    width: 160px;
    aspect-ratio: 1 / 1;
    background: transparent;
    margin-inline: auto;
    margin-block: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* ------------ penrose triangle ------------- */

.penrose-triangle {
    display: block;
    width: 90%;
    height: auto;
    margin-inline: auto;
}

.penrose-triangle .cls-1 { fill: var(--penrose-fill-1); }
.penrose-triangle .cls-2 { fill: var(--penrose-fill-2); }
.penrose-triangle .cls-4 { fill: var(--penrose-fill-3); }

.penrose-triangle .cls-3 {
    fill: none;
    stroke: var(--red);
    stroke-miterlimit: 10;
    stroke-width: 6px;
}

.square {
    position: absolute;
    width: 100px;
    height: 100px;
    opacity: 0.7;
    inset: 0;
    margin: auto;
}

.square-1 {
    background: var(--dark-orange);
    border: 3px solid var(--orange);
    animation: move-square-1 3s ease-in-out forwards;
}

.square-2 {
    background: var(--dark-orange);
    border: 3px solid var(--orange);
    animation: move-square-2 3s ease-in-out forwards;
}

@keyframes move-square-1 {
    from { transform: translate(0, 0); }
    to   { transform: translate(-30px, -30px); }
}

@keyframes move-square-2 {
    from { transform: translate(0, 0); }
    to   { transform: translate(30px, 30px); }
}

.yellow-circle {
    width: 90%;
    height: 90%;
    border-radius: 50%;
    border: 3px solid var(--yellow);
    background: radial-gradient(circle, var(--dark-yellow) 20%, transparent 80%);
    animation: pulse-fill 4.5s ease-in-out 1 forwards;
}

@keyframes pulse-fill {
    0%   { background: radial-gradient(circle, var(--dark-yellow) 15%, transparent 80%); }
    50%  { background: radial-gradient(circle, var(--dark-yellow) 25%, transparent 80%); }
    100% { background: radial-gradient(circle, var(--dark-yellow) 35%, transparent 80%); }
}

/* ------------ media queries ------------- */

@media (min-width: 400px) {
    .meta {grid-template-columns: 2fr 3fr;}
}

@media (min-width: 750px) {
    
    #nav-links a {
        font-size: 0.85rem;
    }
}

@media (min-width: 1150px) {

    .layout {
        display: grid;
        height: 100dvh;
        grid-template-columns: 2fr 3fr;
        grid-template-rows:
            auto
            1fr
            auto;
        grid-template-areas:
            "nav nav"
            "intro content"
            "footer footer";
        padding-block: var(--spacing);
    }

    #nav { 
        grid-area: nav;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        padding-block-end: var(--spacing);
    }

    .intro {
        grid-area: intro;
        padding-inline-end: 2rem;
        display: flex;
        flex-direction: column;
        justify-content: space-between;

        border-block-end: none;
        border-inline-end: 1.5px solid var(--white);
    }

    .intro-text-group {
        display: flex;
        flex-direction: column;
    }

    .content { 
        grid-area: content;
        overflow: auto;
        padding-inline: 3rem;
        padding-block: var(--spacing);
    }

    #footer  { grid-area: footer; }

    .shape {
        margin-top: 4rem;
        margin-inline: auto;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    section.intro .shape {
        transform: scale(1.25);
        transform-origin: center;
    }

    .meta {grid-template-columns: 2fr 3fr;}

    h1 {
        font-size: 4rem;
        line-height: 4.2rem;
    }

    article .chapters:last-of-type { margin-block-end: 4rem; }
}
